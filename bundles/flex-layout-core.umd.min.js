/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@angular/flex-layout/core",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],e):e((t.ng=t.ng||{},t.ng["flex-layout"]=t.ng["flex-layout"]||{},t.ng["flex-layout"].core={}),t.ng.core,t.ng.common,t.Rx,t.Rx.operators)}(this,function(t,e,i,r,n){"use strict";function o(t,e){function i(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function a(t,e){return function(){if(i.isPlatformBrowser(e)){var r=/\bflex-layout-.+?\b/g;Array.from(t.querySelectorAll("[class*="+S+"]")).forEach(function(t){t.classList.contains(S+"ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(r,"")})}}}function s(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null==t)throw TypeError("Cannot convert undefined or null to object");for(var r=0,n=e;r<n.length;r++){var o=n[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t}function u(t){var e=t.length>0?t.charAt(0):"",i=t.length>1?t.slice(1):"";return e.toUpperCase()+i}function p(t){return t.replace(K,"|").split("|").map(u).join("")}function c(t){return t.forEach(function(t){t.suffix||(t.suffix=p(t.alias),t.overlapping=!!t.overlapping)}),t}function l(t,e){void 0===e&&(e=[]);var i={};return t.forEach(function(t){i[t.alias]=t}),e.forEach(function(t){i[t.alias]?s(i[t.alias],t):i[t.alias]=t}),c(Object.keys(i).map(function(t){return i[t]}))}function y(t){return void 0===t?[]:"string"==typeof t?[t]:f(t)}function f(t){var e={};return t.filter(function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)})}function h(t,e){return s(t,e?{mqAlias:e.alias,suffix:e.suffix}:{})}function d(t){return t||new Z}function v(t){var e=_(t);return g(e[0],e[1],e[2])}function _(t){t=t?t.toLowerCase():"";var e=t.split(" "),i=e[0],r=e[1],n=e[2];return it.find(function(t){return t===i})||(i=it[0]),r===et&&(r=n!==et?n:"",n=et),[i,m(r),!!n]}function m(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}function g(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=!1),{display:i?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}function b(t,e,i,r){var n=[].concat.apply([],(e||[]).map(function(t){return Array.isArray(t)?t:[t]})),o=R.concat(r?C:[]);return t||i?l(n):l(o,n)}function A(t,e,i){return t||new ht(e,i)}function I(t,e,i){return t||new H(i,e)}function O(t){for(var e in t){var i=t[e]||"";switch(e){case"display":t.display="flex"===i?["-webkit-flex","flex"]:"inline-flex"===i?["-webkit-inline-flex","inline-flex"]:i;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=i;break;case"flex-direction":i=i||"row",t["-webkit-flex-direction"]=i,t["flex-direction"]=i;break;case"order":t.order=t["-webkit-"+e]=isNaN(i)?"0":i}}return t}function w(t,e,i){void 0===e&&(e="1"),void 0===i&&(i="1");var r=[e,i,t],n=t.indexOf("calc");if(n>0){r[2]=E(t.substring(n).trim());var o=t.substr(0,n).trim().split(" ");2==o.length&&(r[0]=o[0],r[1]=o[1])}else if(0==n)r[2]=E(t.trim());else{var o=t.split(" ");r=3===o.length?o:[e,i,t]}return r}function E(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},M={provide:e.APP_BOOTSTRAP_LISTENER,useFactory:a,deps:[i.DOCUMENT,e.PLATFORM_ID],multi:!0},S="flex-layout-",j=new e.InjectionToken("Flex Layout token, disable the default breakpoints",{providedIn:"root",factory:function(){return!1}}),P=new e.InjectionToken("Flex Layout token, add the orientation breakpoints",{providedIn:"root",factory:function(){return!1}}),k=new e.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}}),T=["xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl"],R=[{alias:"xs",mediaQuery:"(min-width: 0px) and (max-width: 599px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"(min-width: 600px)"},{alias:"lt-sm",overlapping:!0,mediaQuery:"(max-width: 599px)"},{alias:"sm",mediaQuery:"(min-width: 600px) and (max-width: 959px)"},{alias:"gt-sm",overlapping:!0,mediaQuery:"(min-width: 960px)"},{alias:"lt-md",overlapping:!0,mediaQuery:"(max-width: 959px)"},{alias:"md",mediaQuery:"(min-width: 960px) and (max-width: 1279px)"},{alias:"gt-md",overlapping:!0,mediaQuery:"(min-width: 1280px)"},{alias:"lt-lg",overlapping:!0,mediaQuery:"(max-width: 1279px)"},{alias:"lg",mediaQuery:"(min-width: 1280px) and (max-width: 1919px)"},{alias:"gt-lg",overlapping:!0,mediaQuery:"(min-width: 1920px)"},{alias:"lt-xl",overlapping:!0,mediaQuery:"(max-width: 1920px)"},{alias:"xl",mediaQuery:"(min-width: 1920px) and (max-width: 5000px)"}],Q="(orientations: landscape) and (min-width: 960px) and (max-width: 1279px)",B="(orientations: portrait) and (min-width: 600px) and (max-width: 839px)",D="(orientations: portrait) and (min-width: 840px)",L="(orientations: landscape) and (min-width: 1280px)",N={HANDSET:"(orientations: portrait) and (max-width: 599px), (orientations: landscape) and (max-width: 959px)",TABLET:B+" , "+Q,WEB:D+", "+L+" ",HANDSET_PORTRAIT:"(orientations: portrait) and (max-width: 599px)",TABLET_PORTRAIT:B+" ",WEB_PORTRAIT:""+D,HANDSET_LANDSCAPE:"(orientations: landscape) and (max-width: 959px)]",TABLET_LANDSCAPE:""+Q,WEB_LANDSCAPE:""+L},C=[{alias:"handset",mediaQuery:N.HANDSET},{alias:"handset.landscape",mediaQuery:N.HANDSET_LANDSCAPE},{alias:"handset.portrait",mediaQuery:N.HANDSET_PORTRAIT},{alias:"tablet",mediaQuery:N.TABLET},{alias:"tablet.landscape",mediaQuery:N.TABLET},{alias:"tablet.portrait",mediaQuery:N.TABLET_PORTRAIT},{alias:"web",mediaQuery:N.WEB,overlapping:!0},{alias:"web.landscape",mediaQuery:N.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",mediaQuery:N.WEB_PORTRAIT,overlapping:!0}],K=/(\.|-|_)/g,V=new e.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var t=e.inject(k),i=e.inject(j),r=e.inject(P),n=[].concat.apply([],(t||[]).map(function(t){return Array.isArray(t)?t:[t]})),o=R.concat(r?C:[]);return i?l(n):l(o,n)}}),q=function(){function t(t){this._registry=t}return Object.defineProperty(t.prototype,"items",{get:function(){return this._registry.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortedItems",{get:function(){var t=this._registry.filter(function(t){return!0===t.overlapping}),e=this._registry.filter(function(t){return!0!==t.overlapping});return t.concat(e)},enumerable:!0,configurable:!0}),t.prototype.findByAlias=function(t){return this._registry.find(function(e){return e.alias==t})||null},t.prototype.findByQuery=function(t){return this._registry.find(function(e){return e.mediaQuery==t})||null},Object.defineProperty(t.prototype,"overlappings",{get:function(){return this._registry.filter(function(t){return 1==t.overlapping})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aliases",{get:function(){return this._registry.map(function(t){return t.alias})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suffixes",{get:function(){return this._registry.map(function(t){return t.suffix?t.suffix:""})},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Inject,args:[V]}]}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(V))},token:t,providedIn:"root"}),t}(),F=function(){function t(t,e,i,r){void 0===t&&(t=!1),void 0===e&&(e="all"),void 0===i&&(i=""),void 0===r&&(r=""),this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r}return t.prototype.clone=function(){return new t(this.matches,this.mediaQuery,this.mqAlias,this.suffix)},t}(),z=function(){function t(t,e,i){this._zone=t,this._platformId=e,this._document=i,this._registry=new Map,this._source=new r.BehaviorSubject(new F(!0)),this._observable$=this._source.asObservable()}return t.prototype.isActive=function(t){var e=this._registry.get(t);return!!e&&e.matches},t.prototype.observe=function(t){return t&&this.registerQuery(t),this._observable$.pipe(n.filter(function(e){return!t||e.mediaQuery===t}))},t.prototype.registerQuery=function(t){var e=this,i=y(t);i.length>0&&(this._prepareQueryCSS(i,this._document),i.forEach(function(t){var i=e._registry.get(t),r=function(i){e._zone.run(function(){var r=new F(i.matches,t);e._source.next(r)})};i||(i=e._buildMQL(t),i.addListener(r),e._registry.set(t,i)),i.matches&&r(i)}))},t.prototype._buildMQL=function(t){return i.isPlatformBrowser(this._platformId)&&!!window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}},t.prototype._prepareQueryCSS=function(t,e){var i=t.filter(function(t){return!U[t]});if(i.length>0){var r=i.join(", ");try{var n=e.createElement("style");if(n.setAttribute("type","text/css"),!n.styleSheet){var o="\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media "+r+" {.fx-query-test{ }}\n";n.appendChild(e.createTextNode(o))}e.head.appendChild(n),i.forEach(function(t){return U[t]=n})}catch(t){console.error(t)}}},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:e.NgZone},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Inject,args:[i.DOCUMENT]}]}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(e.NgZone),e.inject(e.PLATFORM_ID),e.inject(i.DOCUMENT))},token:t,providedIn:"root"}),t}(),U={},W=function(){function t(){}return t}(),H=function(){function t(t,e){this.breakpoints=t,this.mediaWatcher=e,this.filterOverlaps=!0,this._registerBreakPoints(),this.observable$=this._buildObservable()}return t.prototype.isActive=function(t){var e=this._toMediaQuery(t);return this.mediaWatcher.isActive(e)},t.prototype.subscribe=function(t,e,i){return this.observable$.subscribe(t,e,i)},t.prototype.asObservable=function(){return this.observable$},t.prototype._registerBreakPoints=function(){var t=this.breakpoints.sortedItems.map(function(t){return t.mediaQuery});this.mediaWatcher.registerQuery(t)},t.prototype._buildObservable=function(){var t=this,e=this,i=this.mediaWatcher.observe(),r=function(t){return!0===t.matches},o=function(e){return h(e,t._findByQuery(e.mediaQuery))},a=function(i){var r=t.breakpoints.findByQuery(i.mediaQuery);return!r||!(e.filterOverlaps&&r.overlapping)};return i.pipe(n.filter(r),n.filter(a),n.map(o))},t.prototype._findByAlias=function(t){return this.breakpoints.findByAlias(t)},t.prototype._findByQuery=function(t){return this.breakpoints.findByQuery(t)},t.prototype._toMediaQuery=function(t){var e=this._findByAlias(t)||this._findByQuery(t);return e?e.mediaQuery:t},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:q},{type:z}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(q),e.inject(z))},token:t,providedIn:"root"}),t}(),$={provide:W,useClass:H},Y=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[$,M]}]}],t.ctorParameters=function(){return[]},t}(),Z=function(){function t(){this.stylesheet=new Map}return t.prototype.addStyleToElement=function(t,e,i){var r=this.stylesheet.get(t);r?r.set(e,i):this.stylesheet.set(t,new Map([[e,i]]))},t.prototype.clearStyles=function(){this.stylesheet.clear()},t.prototype.getStyleForElement=function(t,e){var i=this.stylesheet.get(t),r="";if(i){var n=i.get(e);"number"!=typeof n&&"string"!=typeof n||(r=n+"")}return r},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),X={provide:Z,deps:[[new e.Optional,new e.SkipSelf,Z]],useFactory:d},G=new e.InjectionToken("Flex Layout token, should flex stylings be applied to parents automatically",{providedIn:"root",factory:function(){return!1}}),J=new e.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),tt=new e.InjectionToken("Flex Layout token, whether to add vendor prefix styles inline for elements",{providedIn:"root",factory:function(){return!1}}),et="inline",it=["row","column","row-reverse","column-reverse"],rt=function(){function t(t,e,i){this.baseKey=t,this.defaultValue=e,this.inputKeys=i}return t}(),nt=function(){function t(t,e,i){this._options=t,this._mediaMonitor=e,this._onMediaChanges=i,this._subscribers=[],this._registryMap=this._buildRegistryMap(),this._subscribers=this._configureChangeObservers()}return Object.defineProperty(t.prototype,"registryFromLargest",{get:function(){return this._registryMap.slice().reverse()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaMonitor",{get:function(){return this._mediaMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedInputKey",{get:function(){return this._activatedInputKey||this._options.baseKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedInput",{get:function(){var t=this.activatedInputKey;return this.hasKeyValue(t)?this._lookupKeyValue(t):this._options.defaultValue},enumerable:!0,configurable:!0}),t.prototype.hasKeyValue=function(t){return void 0!==this._options.inputKeys[t]},t.prototype.destroy=function(){this._subscribers.forEach(function(t){t.unsubscribe()}),this._subscribers=[]},t.prototype._configureChangeObservers=function(){var t=this,e=[];return this._registryMap.forEach(function(i){if(t._keyInUse(i.key)){var r=function(e){return e=e.clone(),e.property=t._options.baseKey,e};e.push(t.mediaMonitor.observe(i.alias).pipe(n.map(r)).subscribe(function(e){t._onMonitorEvents(e)}))}}),e},t.prototype._buildRegistryMap=function(){var t=this;return this.mediaMonitor.breakpoints.map(function(e){return s({},e,{baseKey:t._options.baseKey,key:t._options.baseKey+e.suffix})}).filter(function(e){return t._keyInUse(e.key)})},t.prototype._onMonitorEvents=function(t){t.property==this._options.baseKey&&(t.value=this._calculateActivatedValue(t),this._onMediaChanges(t))},t.prototype._keyInUse=function(t){return void 0!==this._lookupKeyValue(t)},t.prototype._calculateActivatedValue=function(t){var e=this._options.baseKey+t.suffix,i=this._activatedInputKey;return i=t.matches?e:i==e?"":i,this._activatedInputKey=this._validateInputKey(i),this.activatedInput},t.prototype._validateInputKey=function(t){var e=this,i=function(t){return!e._keyInUse(t)};return i(t)&&this.mediaMonitor.activeOverlaps.some(function(r){var n=e._options.baseKey+r.suffix;return!i(n)&&(t=n,!0)}),t},t.prototype._lookupKeyValue=function(t){return this._options.inputKeys[t]},t}(),ot=function(){function t(t,e,i){this._mediaMonitor=t,this._elementRef=e,this._styler=i,this._inputMap={},this._hasInitialized=!1}return Object.defineProperty(t.prototype,"hasMediaQueryListener",{get:function(){return!!this._mqActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedValue",{get:function(){return this._mqActivation?this._mqActivation.activatedInput:void 0},set:function(t){var i,r="baseKey";this._mqActivation&&(r=this._mqActivation.activatedInputKey,i=this._inputMap[r],this._inputMap[r]=t);var n=new e.SimpleChange(i,t,!1);this.ngOnChanges((o={},o[r]=n,o));var o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this._elementRef.nativeElement.parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this._elementRef.nativeElement},enumerable:!0,configurable:!0}),t.prototype._queryInput=function(t){return this._inputMap[t]},t.prototype.ngOnInit=function(){this._display=this._getDisplayStyle(),this._hasInitialized=!0},t.prototype.ngOnChanges=function(t){throw new Error("BaseDirective::ngOnChanges should be overridden in subclass: "+t)},t.prototype.ngOnDestroy=function(){this._mqActivation&&this._mqActivation.destroy(),delete this._mediaMonitor},t.prototype._getDefaultVal=function(t,e){var i=this._queryInput(t);return void 0!==i&&null!==i&&""!==i?i:e},t.prototype._getDisplayStyle=function(t){void 0===t&&(t=this.nativeElement);return this._styler.lookupStyle(t,"display")},t.prototype._getAttributeValue=function(t,e){return void 0===e&&(e=this.nativeElement),this._styler.lookupAttributeValue(e,t)},t.prototype._getFlexFlowDirection=function(t,e){void 0===e&&(e=!1);var i="row",r="";if(t&&(a=this._styler.getFlowDirection(t),i=a[0],r=a[1],!r&&e)){var n=v(i),o=[t];this._styler.applyStyleToElements(n,o)}return i.trim()||"row";var a},t.prototype._applyStyleToElement=function(t,e,i){void 0===i&&(i=this.nativeElement),this._styler.applyStyleToElement(i,t,e)},t.prototype._applyStyleToElements=function(t,e){this._styler.applyStyleToElements(t,e)},t.prototype._cacheInput=function(t,e){if("object"==typeof e)for(var i in e)this._inputMap[i]=e[i];else t&&(this._inputMap[t]=e)},t.prototype._listenForMediaQueryChanges=function(t,e,i){if(!this._mqActivation){var r=new rt(t,e,this._inputMap);this._mqActivation=new nt(r,this._mediaMonitor,function(t){return i(t)})}return this._mqActivation},Object.defineProperty(t.prototype,"childrenNodes",{get:function(){for(var t=this.nativeElement.children,e=[],i=t.length;i--;)e[i]=t[i];return e},enumerable:!0,configurable:!0}),t.prototype.hasResponsiveAPI=function(t){return Object.keys(this._inputMap).length-(this._inputMap[t]?1:0)>0},t.prototype.hasKeyValue=function(t){return this._mqActivation.hasKeyValue(t)},Object.defineProperty(t.prototype,"hasInitialized",{get:function(){return this._hasInitialized},enumerable:!0,configurable:!0}),t}(),at=function(t){function e(e,i,r,n){var o=t.call(this,i,r,n)||this;return o._baseKey=e,o._mediaMonitor=i,o._elementRef=r,o._styler=n,o}return o(e,t),Object.defineProperty(e.prototype,"activeKey",{get:function(){var t=this._mqActivation,e=t?t.activatedInputKey:this._baseKey;return"class"===e?"klazz":e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputMap",{get:function(){return this._inputMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mqActivation",{get:function(){return this._mqActivation},enumerable:!0,configurable:!0}),e.prototype.hasResponsiveAPI=function(){return t.prototype.hasResponsiveAPI.call(this,this._baseKey)},e.prototype.queryInput=function(t){return t?this._queryInput(t):void 0},e.prototype.cacheInput=function(t,e,i){if(void 0===i&&(i=!1),i)this._cacheInputRaw(t,e);else if(Array.isArray(e))this._cacheInputArray(t,e);else if("object"==typeof e)this._cacheInputObject(t,e);else{if("string"!=typeof e)throw new Error("Invalid class value '"+t+"' provided. Did you want to cache the raw value?");this._cacheInputString(t,e)}},e.prototype.listenForMediaQueryChanges=function(t,e,i){return this._listenForMediaQueryChanges(t,e,i)},e.prototype._cacheInputRaw=function(t,e){t&&(this._inputMap[t]=e)},e.prototype._cacheInputArray=function(t,e){void 0===t&&(t=""),this._inputMap[t]=e?e.join(" "):""},e.prototype._cacheInputObject=function(t,e){void 0===t&&(t="");var i=[];if(e)for(var r in e)e[r]&&i.push(r);this._inputMap[t]=i.join(" ")},e.prototype._cacheInputString=function(t,e){void 0===t&&(t=""),this._inputMap[t]=e},e}(ot),st=function(){function t(t,e,i){this._mediaMonitor=t,this._elementRef=e,this._styler=i,this._inputMap={},this._hasInitialized=!1}return Object.defineProperty(t.prototype,"hasMediaQueryListener",{get:function(){return!!this._mqActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedValue",{get:function(){return this._mqActivation?this._mqActivation.activatedInput:void 0},set:function(t){var i,r="baseKey";this._mqActivation&&(r=this._mqActivation.activatedInputKey,i=this._inputMap[r],this._inputMap[r]=t);var n=new e.SimpleChange(i,t,!1);this.ngOnChanges((o={},o[r]=n,o));var o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this._elementRef.nativeElement.parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this._elementRef.nativeElement},enumerable:!0,configurable:!0}),t.prototype._queryInput=function(t){return this._inputMap[t]},t.prototype.ngOnInit=function(){this._display=this._getDisplayStyle(),this._hasInitialized=!0},t.prototype.ngOnChanges=function(t){throw new Error("BaseFxDirective::ngOnChanges should be overridden in subclass: "+t)},t.prototype.ngOnDestroy=function(){this._mqActivation&&this._mqActivation.destroy(),delete this._mediaMonitor},t.prototype._getDefaultVal=function(t,e){var i=this._queryInput(t);return void 0!==i&&null!==i&&""!==i?i:e},t.prototype._getDisplayStyle=function(t){void 0===t&&(t=this.nativeElement);return this._styler.lookupStyle(t,"display")},t.prototype._getAttributeValue=function(t,e){return void 0===e&&(e=this.nativeElement),this._styler.lookupAttributeValue(e,t)},t.prototype._getFlowDirection=function(t,e){void 0===e&&(e=!1);var i="row",r="";if(t&&(a=this._styler.getFlowDirection(t),i=a[0],r=a[1],!r&&e)){var n=v(i),o=[t];this._styler.applyStyleToElements(n,o)}return i.trim()||"row";var a},t.prototype._applyStyleToElement=function(t,e,i){void 0===i&&(i=this.nativeElement),this._styler.applyStyleToElement(i,t,e)},t.prototype._applyStyleToElements=function(t,e){this._styler.applyStyleToElements(t,e)},t.prototype._cacheInput=function(t,e){if("object"==typeof e)for(var i in e)this._inputMap[i]=e[i];else t&&(this._inputMap[t]=e)},t.prototype._listenForMediaQueryChanges=function(t,e,i){if(!this._mqActivation){var r=new rt(t,e,this._inputMap);this._mqActivation=new nt(r,this._mediaMonitor,function(t){return i(t)})}return this._mqActivation},Object.defineProperty(t.prototype,"childrenNodes",{get:function(){for(var t=this.nativeElement.children,e=[],i=t.length;i--;)e[i]=t[i];return e},enumerable:!0,configurable:!0}),t.prototype.hasResponsiveAPI=function(t){return Object.keys(this._inputMap).length-(this._inputMap[t]?1:0)>0},t.prototype.hasKeyValue=function(t){return this._mqActivation.hasKeyValue(t)},Object.defineProperty(t.prototype,"hasInitialized",{get:function(){return this._hasInitialized},enumerable:!0,configurable:!0}),t}(),ut={provide:V,useFactory:b,deps:[[new e.Optional,new e.SkipSelf,V],[new e.Optional,k],[new e.Optional,j],[new e.Optional,P]]},pt=function(t){function r(e,i,r,n){var o=t.call(this,e,i,r)||this;return o._breakpoints=n,o.autoRegisterQueries=!0,o.useOverlaps=!1,o._actives=[],o._actives=[],o}return o(r,t),r.prototype.clearAll=function(){this._registry.forEach(function(t,e){t.destroy()}),this._registry.clear(),this.useOverlaps=!1},r.prototype.activate=function(t,e){return void 0===e&&(e=!1),e=e||this.useOverlaps,t=this._validateQuery(t),!e&&this.isActive(t)||(this._deactivateAll(),this._registerMediaQuery(t),this._activateWithOverlaps(t,e)),this.hasActivated},r.prototype._validateQuery=function(t){var e=this._breakpoints.findByAlias(t);return e&&(t=e.mediaQuery),t},r.prototype._activateWithOverlaps=function(t,e){if(e){var i=this._breakpoints.findByQuery(t),r=i?i.alias:"unknown";switch(r){case"lg":this._activateByAlias("lt-xl");break;case"md":this._activateByAlias("lt-xl, lt-lg");break;case"sm":this._activateByAlias("lt-xl, lt-lg, lt-md");break;case"xs":this._activateByAlias("lt-xl, lt-lg, lt-md, lt-sm")}switch(r){case"xl":this._activateByAlias("gt-lg, gt-md, gt-sm, gt-xs");break;case"lg":this._activateByAlias("gt-md, gt-sm, gt-xs");break;case"md":this._activateByAlias("gt-sm, gt-xs");break;case"sm":this._activateByAlias("gt-xs")}}return this._activateByQuery(t)},r.prototype._activateByAlias=function(t){var e=this,i=function(t){var i=e._breakpoints.findByAlias(t);e._activateByQuery(i?i.mediaQuery:t)};t.split(",").forEach(function(t){return i(t.trim())})},r.prototype._activateByQuery=function(t){var e=this._registry.get(t),i=this._actives.reduce(function(t,i){return t||e&&i.media===e.media},!1);return e&&!i&&this._actives.push(e.activate()),this.hasActivated},r.prototype._deactivateAll=function(){if(this._actives.length){for(var t=0,e=this._actives;t<e.length;t++){e[t].deactivate()}this._actives=[]}return this},r.prototype._registerMediaQuery=function(t){!this._registry.has(t)&&this.autoRegisterQueries&&this.registerQuery(t)},r.prototype._buildMQL=function(t){return new ct(t)},Object.defineProperty(r.prototype,"hasActivated",{get:function(){return this._actives.length>0},enumerable:!0,configurable:!0}),r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:e.NgZone},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Inject,args:[i.DOCUMENT]}]},{type:q}]},r}(z),ct=function(){function t(t){this._mediaQuery=t,this._isActive=!1,this._listeners=[]}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"media",{get:function(){return this._mediaQuery},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.deactivate(),this._listeners=[]},t.prototype.activate=function(){var t=this;return this._isActive||(this._isActive=!0,this._listeners.forEach(function(e){e(t)})),this},t.prototype.deactivate=function(){var t=this;return this._isActive&&(this._isActive=!1,this._listeners.forEach(function(e){e(t)})),this},t.prototype.addListener=function(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t(this)},t.prototype.removeListener=function(t){},t}(),lt={provide:z,useClass:pt},yt=function(){function t(t){this._mediaQuery=t,this._isActive=!1,this._listeners=[]}return Object.defineProperty(t.prototype,"matches",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"media",{get:function(){return this._mediaQuery},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.deactivate(),this._listeners=[]},t.prototype.activate=function(){var t=this;return this._isActive||(this._isActive=!0,this._listeners.forEach(function(e){e(t)})),this},t.prototype.deactivate=function(){var t=this;return this._isActive&&(this._isActive=!1,this._listeners.forEach(function(e){e(t)})),this},t.prototype.addListener=function(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t(this)},t.prototype.removeListener=function(t){},t}(),ft=function(t){function n(e,i,n){var o=t.call(this,e,i,n)||this;return o._zone=e,o._platformId=i,o._document=n,o._registry=new Map,o._source=new r.BehaviorSubject(new F(!0)),o._observable$=o._source.asObservable(),o}return o(n,t),n.prototype.activateBreakpoint=function(t){var e=this._registry.get(t.mediaQuery);e&&e.activate()},n.prototype.deactivateBreakpoint=function(t){var e=this._registry.get(t.mediaQuery);e&&e.deactivate()},n.prototype._buildMQL=function(t){return new yt(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.NgZone},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Inject,args:[i.DOCUMENT]}]}]},n}(z),ht=function(){function t(t,e){this._breakpoints=t,this._matchMedia=e,this._registerBreakpoints()}return Object.defineProperty(t.prototype,"breakpoints",{get:function(){return this._breakpoints.items.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeOverlaps",{get:function(){var t=this;return this._breakpoints.overlappings.reverse().filter(function(e){return t._matchMedia.isActive(e.mediaQuery)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){var t=this,e=null;this.breakpoints.reverse().forEach(function(i){""!==i.alias&&!e&&t._matchMedia.isActive(i.mediaQuery)&&(e=i)});var i=this.breakpoints[0];return e||(this._matchMedia.isActive(i.mediaQuery)?i:null)},enumerable:!0,configurable:!0}),t.prototype.isActive=function(t){var e=this._breakpoints.findByAlias(t)||this._breakpoints.findByQuery(t);return this._matchMedia.isActive(e?e.mediaQuery:t)},t.prototype.observe=function(t){var e=this._breakpoints.findByAlias(t||"")||this._breakpoints.findByQuery(t||""),i=function(t){return!e||""!==t.mqAlias};return this._matchMedia.observe(e?e.mediaQuery:t).pipe(n.map(function(t){return h(t,e)}),n.filter(i))},t.prototype._registerBreakpoints=function(){var t=this._breakpoints.sortedItems.map(function(t){return t.mediaQuery});this._matchMedia.registerQuery(t)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:q},{type:z}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(q),e.inject(z))},token:t,providedIn:"root"}),t}(),dt={provide:ht,deps:[[new e.Optional,new e.SkipSelf,ht],q,z],useFactory:A},vt={provide:W,deps:[[new e.Optional,new e.SkipSelf,W],z,q],useFactory:I},_t=function(){function t(t,e,i,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=i,this.noVendorPrefixes=r}return t.prototype.applyStyleToElement=function(t,e,i){var r={};"string"==typeof e&&(r[e]=i,e=r),r=this.noVendorPrefixes?e:O(e),this._applyMultiValueStyleToElement(r,t)},t.prototype.applyStyleToElements=function(t,e){var i=this;void 0===e&&(e=[]);var r=this.noVendorPrefixes?t:O(t);e.forEach(function(t){i._applyMultiValueStyleToElement(r,t)})},t.prototype.getFlowDirection=function(t){var e=this.lookupStyle(t,"flex-direction");e===mt&&(e="");var r=this.lookupInlineStyle(t,"flex-direction")||i.isPlatformServer(this._platformId)&&this._serverModuleLoaded?e:"";return[e||"row",r]},t.prototype.lookupAttributeValue=function(t,e){return t.getAttribute(e)||""},t.prototype.lookupInlineStyle=function(t,e){return i.isPlatformBrowser(this._platformId)?t.style[e]:this._getServerStyle(t,e)},t.prototype.lookupStyle=function(t,e,r){void 0===r&&(r=!1);var n="";if(t){(n=this.lookupInlineStyle(t,e))||(i.isPlatformBrowser(this._platformId)?r||(n=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(n=this._serverStylesheet.getStyleForElement(t,e)))}return n?n.trim():mt},t.prototype._applyMultiValueStyleToElement=function(t,e){var r=this;Object.keys(t).sort().forEach(function(n){var o=Array.isArray(t[n])?t[n]:[t[n]];o.sort();for(var a=0,s=o;a<s.length;a++){var u=s[a];i.isPlatformBrowser(r._platformId)||!r._serverModuleLoaded?i.isPlatformBrowser(r._platformId)?e.style.setProperty(n,u):r._setServerStyle(e,n,u):r._serverStylesheet.addStyleToElement(e,n,u)}})},t.prototype._setServerStyle=function(t,e,i){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var r=this._readStyleAttribute(t);r[e]=i||"",this._writeStyleAttribute(t,r)},t.prototype._getServerStyle=function(t,e){return this._readStyleAttribute(t)[e]||""},t.prototype._readStyleAttribute=function(t){var e={},i=t.getAttribute("style");if(i)for(var r=i.split(/;+/g),n=0;n<r.length;n++){var o=r[n].trim();if(o.length>0){var a=o.indexOf(":");if(-1===a)throw new Error("Invalid CSS style: "+o);var s=o.substr(0,a).trim();e[s]=o.substr(a+1).trim()}}return e},t.prototype._writeStyleAttribute=function(t,e){var i="";for(var r in e){e[r]&&(i+=r+":"+e[r]+";")}t.setAttribute("style",i)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Z,decorators:[{type:e.Optional}]},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[J]}]},{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[tt]}]}]},t.ngInjectableDef=e.defineInjectable({factory:function(){
return new t(e.inject(Z,null,0),e.inject(J,null,0),e.inject(e.PLATFORM_ID),e.inject(tt,null,0))},token:t,providedIn:"root"}),t}(),mt="block";t.removeStyles=a,t.BROWSER_PROVIDER=M,t.CLASS_NAME=S,t.CoreModule=Y,t.MediaChange=F,t.StylesheetMap=Z,t.STYLESHEET_MAP_PROVIDER_FACTORY=d,t.STYLESHEET_MAP_PROVIDER=X,t.ADD_FLEX_STYLES=G,t.SERVER_TOKEN=J,t.DISABLE_DEFAULT_BREAKPOINTS=j,t.ADD_ORIENTATION_BREAKPOINTS=P,t.BREAKPOINT=k,t.DISABLE_VENDOR_PREFIXES=tt,t.BaseDirective=ot,t.BaseDirectiveAdapter=at,t.BaseFxDirective=st,t.RESPONSIVE_ALIASES=T,t.DEFAULT_BREAKPOINTS=R,t.ScreenTypes=N,t.ORIENTATION_BREAKPOINTS=C,t.BreakPointRegistry=q,t.BREAKPOINTS_PROVIDER_FACTORY=b,t.BREAKPOINTS_PROVIDER=ut,t.BREAKPOINTS=V,t.MatchMedia=z,t.MockMatchMedia=pt,t.MockMediaQueryList=ct,t.MockMatchMediaProvider=lt,t.ServerMediaQueryList=yt,t.ServerMatchMedia=ft,t.MediaMonitor=ht,t.MEDIA_MONITOR_PROVIDER_FACTORY=A,t.MEDIA_MONITOR_PROVIDER=dt,t.ObservableMedia=W,t.MediaService=H,t.ObservableMediaProvider=$,t.OBSERVABLE_MEDIA_PROVIDER_FACTORY=I,t.OBSERVABLE_MEDIA_PROVIDER=vt,t.KeyOptions=rt,t.ResponsiveActivation=nt,t.StyleUtils=_t,t.validateBasis=w,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=flex-layout-core.umd.min.js.map
