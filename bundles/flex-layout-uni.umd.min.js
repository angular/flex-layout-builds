/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/layout")):"function"==typeof define&&define.amd?define("@angular/flex-layout/uni",["exports","@angular/core","@angular/cdk/layout"],e):e((t.ng=t.ng||{},t.ng.flexLayout=t.ng.flexLayout||{},t.ng.flexLayout.uni={}),t.ng.core,t.ng.cdk.layout)}(this,function(t,e,r){"use strict";function n(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var a="__FALLBACK__",i={name:a,media:"all",priority:-1},o=[{name:"xs",media:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1},{name:"md",media:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:1}],s=new e.InjectionToken("Angular Layout Breakpoints"),c=new e.InjectionToken("Angular Layout Condensed Breakpoints",{providedIn:"root",factory:function(){var t=e.inject(s),r=new Map;return t.forEach(function(t){t.forEach(function(t){r.set(t.name,t)})}),n(Array.from(r.values()),[i])}}),u=function(t){t=t||"stretch";var e="align-self",r=new Map;switch(t){case"start":r.set(e,{value:"flex-start",priority:0});break;case"end":r.set(e,{value:"flex-end",priority:0});break;default:r.set(e,{value:t,priority:0})}return r},p={tag:"flexAlign",builder:u},f=[p],d=new e.InjectionToken("Angular Layout Tags"),l=new e.InjectionToken("Angular Layout Condensed Tags",{providedIn:"root",factory:function(){var t=e.inject(d),r=new Map;return t.forEach(function(t){t.forEach(function(t){r.set(t.tag,t.builder)})}),r}}),h=function(){function t(t,e,r){var n=this;this.bps=e,this.tags=r,this.mediaQueries=new Map,this.activations=[],this.activating=!1,this.elementsMap=new Map,this.elementDataMap=new Map,e.forEach(function(e){n.elementsMap.set(e,new Set);var r=t.matchMedia(e.media);n.mediaQueries.set(e.name,r),r.addListener(function(t){var r=t.matches&&-1===n.activations.indexOf(e),a=!t.matches&&n.activations.indexOf(e)>-1;n.activating||!r&&!a||(n.computeStyles(),n.activating=!0)})}),this.computeActivations()}return t.prototype.addDirective=function(t,e){this.elementsMap.get(e).add(t),this.updateDirective(t)},t.prototype.updateDirective=function(t){this.computeDirective(t),this.addStyles(t)},t.prototype.removeDirectiveBp=function(t,e){this.elementsMap.get(e).delete(t),this.updateDirective(t)},t.prototype.removeDirective=function(t){var e=this;this.bps.forEach(function(r){return e.elementsMap.get(r).delete(t)})},t.prototype.computeActivations=function(){var t=this;this.activations=this.bps.filter(function(e){return t.mediaQueries.get(e.name).matches}).sort(function(t,e){return e.priority-t.priority})},t.prototype.computeStyles=function(){var t=this;this.computeActivations(),this.activations.forEach(function(e){return t.elementsMap.get(e).forEach(t.computeDirective.bind(t))}),Array.from(this.elementDataMap.keys()).forEach(this.addStyles.bind(this)),this.activating=!1},t.prototype.computeDirective=function(t){var e=new Map;this.activations.forEach(function(r){var n=t.valueMap.get(r.name);n&&n.forEach(function(t,r){e.has(r)||e.set(r,t)})}),this.elementDataMap.set(t,e)},t.prototype.addStyles=function(t){var e=this,r=t.element,n=t.parent,a=this.elementDataMap.get(t),i=new Map;a.forEach(function(t,r){e.tags.get(r)(t,n).forEach(function(t,e){var r=i.get(e);(!r||r&&r.priority<t.priority)&&i.set(e,t)})}),i.forEach(function(t,e){return r.style.setProperty(e,t.value)})},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.MediaMatcher},{type:Array,decorators:[{type:e.Inject,args:[c]}]},{type:Map,decorators:[{type:e.Inject,args:[l]}]}]},t.ɵprov0=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.MediaMatcher),e.ɵɵinject(c),e.ɵɵinject(l))},token:t,providedIn:"root"}),t}(),v=function(){function t(t){this.name="",this.element=t.nativeElement}return t.decorators=[{type:e.Directive,args:[{selector:"bp"}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={name:[{type:e.Input,args:["tag"]}]},t}(),m=function(){function t(t,e,r,n,o){var s=this;this.parent=t,this.breakpoints=r,this.tags=n,this.grandCentral=o,this.valueMap=new Map,this.observerMap=new Map,r.forEach(function(t){return s.valueMap.set(t.name,new Map)}),this.element=e.nativeElement,this.tagNames=Array.from(this.tags.keys());var c=function(t){t.forEach(function(t){"attributes"===t.type&&s.processAttributeMutation(t,!0)})};this.tagNames.forEach(function(t){var e=s.element.getAttribute(t);e&&s.valueMap.get(a).set(t,e)}),this.grandCentral.addDirective(this,i),"undefined"!=typeof MutationObserver&&(this.rootObserver=new MutationObserver(c),this.rootObserver.observe(this.element,{attributes:!0,attributeFilter:this.tagNames}))}return t.prototype.ngAfterContentInit=function(){var t=this,e=function(e){e.forEach(function(e){"attributes"===e.type&&t.processAttributeMutation(e)})};this.bpElements.forEach(function(r){var n=r.element,a=t.breakpoints.find(function(t){return t.name===r.name});if(t.tagNames.forEach(function(e){var a=n.getAttribute(e);a&&t.valueMap.get(r.name).set(e,a)}),t.grandCentral.addDirective(t,a),"undefined"!=typeof MutationObserver){var i=new MutationObserver(e);i.observe(n,{attributes:!0,attributeFilter:t.tagNames}),t.observerMap.set(n,i)}})},t.prototype.ngOnDestroy=function(){this.rootObserver&&this.rootObserver.disconnect(),this.observerMap.forEach(function(t){return t.disconnect()}),this.grandCentral.removeDirective(this)},t.prototype.processAttributeMutation=function(t,e){if(void 0===e&&(e=!1),t.attributeName){var r=t.target,n=r.getAttribute(t.attributeName),i=e?a:r.tagName.toLowerCase();n?this.valueMap.get(i).set(t.attributeName,n):this.valueMap.get(i).delete(t.attributeName),this.grandCentral.updateDirective(this)}},t.decorators=[{type:e.Directive,args:[{selector:"[ngl]"}]}],t.ctorParameters=function(){return[{type:t,decorators:[{type:e.Optional},{type:e.SkipSelf}]},{type:e.ElementRef},{type:Array,decorators:[{type:e.Inject,args:[c]}]},{type:Map,decorators:[{type:e.Inject,args:[l]}]},{type:h}]},t.propDecorators={bpElements:[{type:e.ContentChildren,args:[v]}]},t}(),y=function(){function t(){}return t.withDefaults=function(){return{ngModule:t,providers:[{provide:d,useValue:f,multi:!0},{provide:s,useValue:o,multi:!0}]}},t.decorators=[{type:e.NgModule,args:[{declarations:[m,v],exports:[m,v]}]}],t}();t.BREAKPOINTS=s,t.DEFAULT_BREAKPOINTS=o,t.LAYOUT_TAGS=d,t.DEFAULT_TAGS=f,t.GrandCentral=h,t.FLEX_ALIGN_TAG=p,t.BreakpointDirective=v,t.UnifiedDirective=m,t.UnifiedModule=y,t.ɵa0=c,t.ɵb0=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=flex-layout-uni.umd.min.js.map
