{"version":3,"file":"flex.js","sourceRoot":"","sources":["flex.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n import {\n  Directive,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Renderer,\n  SimpleChanges,\n  SkipSelf,\n} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\nimport {extendObject} from '../../utils/object-extend';\n\nimport {BaseFxDirective} from './base';\nimport {MediaChange} from '../../media-query/media-change';\nimport {MediaMonitor} from '../../media-query/media-monitor';\n\nimport {LayoutDirective} from './layout';\nimport {LayoutWrapDirective} from './layout-wrap';\n\n\n/** Built-in aliases for different flex-basis values. */\nexport type FlexBasisAlias = 'grow' | 'initial' | 'auto' | 'none' | 'nogrow' | 'noshrink';\n\n\n/**\n * Directive to control the size of a flex item using flex-basis, flex-grow, and flex-shrink.\n * Corresponds to the css `flex` shorthand property.\n *\n * @see https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n */\n\nexport class FlexDirective extends BaseFxDirective implements OnInit, OnChanges, OnDestroy {\n\n  /** The flex-direction of this element's flex container. Defaults to 'row'. */\n  private _layout = 'row';\n\n  /**\n   * Subscription to the parent flex container's layout changes.\n   * Stored so we can unsubscribe when this directive is destroyed.\n   */\n  private _layoutWatcher: Subscription;\n\n         set flex(val) {\n    this._cacheInput(\"flex\", val);\n  }\n\n       set shrink(val) {\n    this._cacheInput(\"shrink\", val);\n  }\n\n         set grow(val) {\n    this._cacheInput(\"grow\", val);\n  }\n\n      set flexXs(val) {\n    this._cacheInput('flexXs', val);\n  }\n\n   set flexGtXs(val) {\n    this._cacheInput('flexGtXs', val);\n  };\n\n      set flexSm(val) {\n    this._cacheInput('flexSm', val);\n  };\n\n   set flexGtSm(val) {\n    this._cacheInput('flexGtSm', val);\n  };\n\n      set flexMd(val) {\n    this._cacheInput('flexMd', val);\n  };\n\n   set flexGtMd(val) {\n    this._cacheInput('flexGtMd', val);\n  };\n\n      set flexLg(val) {\n    this._cacheInput('flexLg', val);\n  };\n\n   set flexGtLg(val) {\n    this._cacheInput('flexGtLg', val);\n  };\n\n      set flexXl(val) {\n    this._cacheInput('flexXl', val);\n  };\n\n\n  // Explicitly @SkipSelf on LayoutDirective and LayoutWrapDirective because we want the\n  // parent flex container for this flex item.\n  constructor(monitor: MediaMonitor,\n              elRef: ElementRef,\n              renderer: Renderer,\n                private _container: LayoutDirective,\n                private _wrap: LayoutWrapDirective) {\n\n    super(monitor, elRef, renderer);\n\n    this._cacheInput(\"flex\", \"\");\n    this._cacheInput(\"shrink\", 1);\n    this._cacheInput(\"grow\", 1);\n\n    if (_container) {\n      // If this flex item is inside of a flex container marked with\n      // Subscribe to layout immediate parent direction changes\n      this._layoutWatcher = _container.layout$.subscribe((direction) => {\n        // `direction` === null if parent container does not have a `fxLayout`\n        this._onLayoutChange(direction);\n      });\n    }\n  }\n\n  /**\n   * For @Input changes on the current mq activation property, see onMediaQueryChanges()\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['flex'] != null || this._mqActivation) {\n      this._onLayoutChange();\n    }\n  }\n\n  /**\n   * After the initial onChanges, build an mqActivation object that bridges\n   * mql change events to onMediaQueryChange handlers\n   */\n  ngOnInit() {\n    this._listenForMediaQueryChanges('flex', '', (changes: MediaChange) => {\n      this._updateStyle(changes.value);\n    });\n    this._onLayoutChange();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if (this._layoutWatcher) {\n      this._layoutWatcher.unsubscribe();\n    }\n  }\n\n\n  /**\n   * Caches the parent container's 'flex-direction' and updates the element's style.\n   * Used as a handler for layout change events from the parent flex container.\n   */\n  private _onLayoutChange(direction?: string) {\n    this._layout = direction || this._layout || \"row\";\n    this._updateStyle();\n  }\n\n  private _updateStyle(value?: string|number) {\n    let flexBasis = value || this._queryInput(\"flex\") || '';\n    if (this._mqActivation) {\n      flexBasis = this._mqActivation.activatedInput;\n    }\n\n    this._applyStyleToElement(this._validateValue.apply(this,\n        this._parseFlexParts(String(flexBasis))));\n  }\n\n  /**\n   * If the used the short-form `fxFlex=\"1 0 37%\"`, then parse the parts\n   */\n  private _parseFlexParts(basis: string) {\n    basis = basis.replace(\";\", \"\");\n\n    let hasCalc = basis && basis.indexOf(\"calc\") > -1;\n    let matches = !hasCalc ? basis.split(\" \") : this._getPartsWithCalc(basis.trim());\n    return (matches.length === 3) ? matches : [this._queryInput(\"grow\"),\n          this._queryInput(\"shrink\"), basis];\n  }\n\n  /**\n   * Extract more complicated short-hand versions.\n   * e.g.\n   * fxFlex=\"3 3 calc(15em + 20px)\"\n   */\n  private _getPartsWithCalc(value: string) {\n    let parts = [this._queryInput(\"grow\"), this._queryInput(\"shrink\"), value];\n    let j = value.indexOf('calc');\n\n    if (j > 0) {\n      parts[2] = value.substring(j);\n      let matches = value.substr(0, j).trim().split(\" \");\n      if (matches.length == 2) {\n        parts[0] = matches[0];\n        parts[1] = matches[1];\n      }\n    }\n    return parts;\n  }\n\n  /**\n   * Validate the value to be one of the acceptable value options\n   * Use default fallback of \"row\"\n   */\n  private _validateValue(grow: number|string,\n                         shrink: number|string,\n                         basis: string|number|FlexBasisAlias) {\n    let css, isValue;\n    let direction = (this._layout === 'column') || (this._layout == 'column-reverse') ?\n        'column' :\n        'row';\n\n    // flex-basis allows you to specify the initial/starting main-axis size of the element,\n    // before anything else is computed. It can either be a percentage or an absolute value.\n    // It is, however, not the breaking point for flex-grow/shrink properties\n    //\n    // flex-grow can be seen as this:\n    //   0: Do not stretch. Either size to element's content width, or obey 'flex-basis'.\n    //   1: (Default value). Stretch; will be the same size to all other flex items on\n    //       the same row since they have a default value of 1.\n    //   ≥2 (integer n): Stretch. Will be n times the size of other elements\n    //      with 'flex-grow: 1' on the same row.\n\n    // Use `null` to clear existing styles.\n    let clearStyles = {\n      'max-width': null,\n      'max-height': null,\n      'min-width': null,\n      'min-height': null\n    };\n    switch (basis || '') {\n      case '':\n        css = extendObject(clearStyles, {'flex': '1 1 0.000000001px'});\n        break;\n      case 'grow':\n        css = extendObject(clearStyles, {'flex': '1 1 100%'});\n        break;\n      case 'initial':\n        css = extendObject(clearStyles, {'flex': '0 1 auto'});\n        break;  // default\n      case 'auto':\n        css = extendObject(clearStyles, {'flex': '1 1 auto'});\n        break;\n      case 'none':\n        shrink = 0;\n        css = extendObject(clearStyles, {'flex': '0 0 auto'});\n        break;\n      case 'nogrow':\n        css = extendObject(clearStyles, {'flex': '0 1 auto'});\n        break;\n      case 'none':\n        css = extendObject(clearStyles, {'flex': 'none'});\n        break;\n      case 'noshrink':\n        shrink = 0;\n        css = extendObject(clearStyles, {'flex': '1 0 auto'});\n        break;\n\n      default:\n        let isPercent = String(basis).indexOf('%') > -1;\n\n        isValue = String(basis).indexOf('px') > -1 ||\n            String(basis).indexOf('calc') > -1 ||\n            String(basis).indexOf('em') > -1 ||\n            String(basis).indexOf('vw') > -1 ||\n            String(basis).indexOf('vh') > -1;\n\n        // Defaults to percentage sizing unless `px` is explicitly set\n        if (!isValue && !isPercent && !isNaN(basis as any)) {\n          basis = basis + '%';\n        }\n\n        if (basis === '0px') {\n          basis = '0%';\n        }\n\n        // Set max-width = basis if using layout-wrap\n        // tslint:disable-next-line:max-line-length\n        // @see https://github.com/philipwalton/flexbugs#11-min-and-max-size-declarations-are-ignored-when-wrappifl-flex-items\n\n        css = extendObject(clearStyles, { // fix issue #5345\n          'flex': `${grow} ${shrink} ${(isValue || this._wrap) ? basis : '100%'}`,\n        });\n        break;\n    }\n\n    let max = (direction === 'row') ? 'max-width' : 'max-height';\n    let min = (direction === 'row') ? 'min-width' : 'min-height';\n\n    let usingCalc = String(basis).indexOf('calc') > -1;\n    let isPx = String(basis).indexOf('px') > -1 || usingCalc;\n\n    css[min] = (basis == '0%') ? 0 : isPx ? basis : null;\n    css[max] = (basis == '0%') ? 0 : usingCalc ? null : basis;\n\n    return extendObject(css, {'box-sizing': 'border-box'});\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: `\n  [fxFlex],\n  [fxFlex.xs]\n  [fxFlex.gt-xs],\n  [fxFlex.sm],\n  [fxFlex.gt-sm]\n  [fxFlex.md],\n  [fxFlex.gt-md]\n  [fxFlex.lg],\n  [fxFlex.gt-lg],\n  [fxFlex.xl]\n`\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: MediaMonitor, },\n{type: ElementRef, },\n{type: Renderer, },\n{type: LayoutDirective, decorators: [{ type: Optional }, { type: SkipSelf }, ]},\n{type: LayoutWrapDirective, decorators: [{ type: Optional }, { type: SkipSelf }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'flex': [{ type: Input, args: ['fxFlex', ] },],\n'shrink': [{ type: Input, args: ['fxShrink', ] },],\n'grow': [{ type: Input, args: ['fxGrow', ] },],\n'flexXs': [{ type: Input, args: ['fxFlex.xs', ] },],\n'flexGtXs': [{ type: Input, args: ['fxFlex.gt-xs', ] },],\n'flexSm': [{ type: Input, args: ['fxFlex.sm', ] },],\n'flexGtSm': [{ type: Input, args: ['fxFlex.gt-sm', ] },],\n'flexMd': [{ type: Input, args: ['fxFlex.md', ] },],\n'flexGtMd': [{ type: Input, args: ['fxFlex.gt-md', ] },],\n'flexLg': [{ type: Input, args: ['fxFlex.lg', ] },],\n'flexGtLg': [{ type: Input, args: ['fxFlex.gt-lg', ] },],\n'flexXl': [{ type: Input, args: ['fxFlex.xl', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}